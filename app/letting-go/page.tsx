"use client";

import GuidedChatUI from "@/components/GuidedChatUI";

const WORK_STEPS = [
    // 1. イントロ
    {
        id: "intro",
        text: "手放しワークシステムへようこそ。\n\nこのワークでは、あなたが持っている制限（分離の周波数）を、手放していきます。\nリラックスして、タップで進めてください。",
        inputType: "tap" as const,
    },

    // 2. 位置選択
    {
        id: "position",
        text: "こちらの絵を見てください✨\n\nあなたの前方にある「現実のスクリーン」に、あなたの現実が映し出されています。\n\n1番左の場所が、\n映写機の場所、あなたの真実の場所。\n\nここから、右に離れるほど、\n現実に強くフォーカスしていて、感情をものすごく感じます。\n\n少し離れているくらいだと、\nそこまでは感じていないけど、モヤモヤしたり、言葉にならない居心地の悪さを感じます。\n\n\n今、あなたはどのあたりにいますか？\n左寄りですか？\u3000右寄りですか？\n\n直感で大丈夫です。どこにいるかを選んでください。",
        image: {
            src: "/nikochan-diagram.jpg",
            alt: "映写機の場所と現実のスクリーンの関係図",
            caption: "",
        },
        inputType: "select" as const,
        inputKey: "position",
        options: ["右寄り", "やや右", "真ん中", "やや左", "左寄り"],
    },

    // 3. 光の磁場
    {
        id: "light-field",
        text: "それでは、\n目を閉じても閉じなくても大丈夫です。\n\n今自分が立っている場所を感じてください。\n\n\nあなたが今立っている地面、お部屋の地面の上に、\n見渡す限り、\u201C光の磁場\u201Dが広がっています。\n\n黄金の粒子でできた光の海をイメージしてください。\n\n\n光の磁場は、地球を覆うように、広がっています。\n\nなので、あなたの家の壁も突き抜けて、\n東西南北360度、地平線・水平線まで\nどこまでも波打って、広がっています。\n\nこの光の磁場を十分に感じてください。",
        image: {
            src: "/light-field.jpg",
            alt: "光の磁場のイメージ",
            caption: "",
        },
        inputType: "tap" as const,
    },

    // 4. 映写機の場所
    {
        id: "projector",
        image: {
            src: "/nikochan-diagram.jpg",
            alt: "映写機の場所と現実のスクリーンの関係図",
            caption: "",
        },
        text: "では、自分の後ろを見てください。\n\n光の磁場の中に、ひときわ輝いている場所があります。\nその輝いている場所が「映写機の場所」、あなたの真実の場所です。\n\n立っている方は、その場所まで、歩いてもしくはスキップで戻ってください。\n\n座っている方は、後ろを向いて「ここだ」と決めてから、\nもう一度前を向き直して、その場所にスッとテレポートするように移動してください。",
        inputType: "tap" as const,
    },

    // 5. 胸のドア
    {
        id: "chest-door",
        text: "映写機の場所に\u201Cトンッ\u201Dと立ってください。\n\nあなたの胸の前に、ドアがあります。\nまるで船が出発するときのスロープのような、なだらかなドアです。\n\nそのドアを、上から下に、パタンと開けてください。\n\n\nすると、あなたの身体から\nゴロンと、黒光りする鉄の球体が出てきます。\nとてつもなく重いものです。\n\nそれを持って、スッと手を離してください。\n\n\n目の前にはなだらかなスロープがあるので、\nゴロゴロゴロゴロと転がっていきます。\n\n光の磁場の中央に大きな穴があるので、\nそこにストーンと落ちていきます。\n\n\n深呼吸してください。",
        inputType: "tap" as const,
    },

    // 6. 宇宙意識
    {
        id: "cosmic",
        text: "深呼吸して見上げると、\n自分の真上に、あなたの宇宙意識が広がっています。\n\nとてつもない、広がりと澄んだ空気感。\n\n星が瞬いている、夜空のような宇宙意識。\n\n空のように、どこまでもぶつかることのない広がり。\n奥行きも、とてつもなく広がっています。\n\nあなたの宇宙の叡智、無限の可能性。\nここから、必要なときに必要なだけ、サインやビジョンが降ってきます。\n\n\nここはハイヤーセルフとつながっています。\nハイヤーセルフや宇宙の家族たちが、光のシャワーを浴びせてくれます。\n\n光の粒子でできた、密度の濃いシャワー。\n\nその光のシャワーを、余すことなく浴びてください。",
        inputType: "tap" as const,
    },

    // 7. 形・材質・重さ（テキスト入力）
    {
        id: "form-all",
        text: "光のシャワーを浴びた状態で、今回手放したいものの形を見ていきましょう。\n\n何もわからなくても大丈夫です。\n\n自分が見える形、自分で決めた形で大丈夫です。\n\nその周波数は、\n\n・どんな形をしていますか？\n・材質はなんですか？（鉄、石、コンクリートなど硬いもの）\n・重さはどれくらいですか？（トン級の重さです）\n\n自由に、あなたの思うままに、ワクワクで決めてください。",
        inputType: "text" as const,
        inputKey: "formDesc",
        placeholder: "例: 鉄の球体、50トン",
    },

    // 8. クリスタル球体
    {
        id: "crystal",
        text: (answers: Record<string, string>) =>
            `${answers.formDesc || "それ"}ですね。\n\nでは、その形を\n自分の身体から、手でグッと前に押し出してください。\n\n目の前に、それがすっぽり収まるクリスタルの球体があります。\nそのクリスタルの球体に入れてください。\n\n\nそして、上を見て、目的を明確にしてください。\n\n「私は本当の自分の意識で、この地球を生きていきます」\n\nこの自由で、とてつもない平和と調和の意識。\n無限の可能性の意識。\n\nほんとうのあなたの意識を体感してください。\n\n\nそして、自分がつかっていた古い周波数。\nこの周波数のおかげで、数々の分離を体感できました。\n\n「ありがとう」と言って、手を離してください。\n\n\nなだらかなスロープを\nゴロゴロゴロゴロと転がっていって、\n\n中央の穴にストーンと落ちていきます。\n\n\n深呼吸してください。`,
        inputType: "tap" as const,
    },

    // 9. ガチャガチャ
    {
        id: "gacha",
        text: "では、もう一回、胸のドアを開けてください。\n\nとても大きな、空のクリスタルの球体を用意してください。\n\n\nあなたの意識の隅々に、今手放したものと同じ形のものがあります。\n\nガチャガチャのように、\nちっちゃなクリスタルの球体に、それぞれ入っています。大きさはさまざまです。\n\nそれを全部、シュッと、\n目の前にある大きなクリスタルの球体の中に全部入れてください。\n\n\nそして、再び上を見て目的を明確にしてください。\n\n「私は本当の自分の意識で、この地球を生きていきます」\n\n「ありがとう」と手を離すと、\nゴロゴロゴロゴロと気持ちよく転がっていって、\n\n中央の穴にストーンと落ちていきます。\n\n\n深呼吸してください。",
        inputType: "tap" as const,
    },

    // 10. 統合 + クリスタルの体
    {
        id: "integration",
        text: "今手放した周波数が、統合され\n光の磁場の下で、光の爆発が起きていきます。\n\nグワングワンと、どこまでも波打っています。\n\nその統合された光が、\n今度はあなたの足元に集まってきて、\n\nあなたの真下から、らせん状に\n光の上昇気流を起こします。\n\n\nあなたはクリスタルの体になっています。\n\nその透明なクリスタルの中を通って、上昇気流が上昇していきます。\n\n体も突き抜けて、あなたの宇宙意識にまで、\n上昇気流が上がっていくのを見てください、感じてください。",
        inputType: "tap" as const,
    },

    // 11. ブロンズ + 祝福
    {
        id: "bronze-blessing",
        text: "あなたのクリスタルの体の表面がブロンズで覆われています。\n表面がブロンズの鎧のように、覆われています。\n\n上昇気流が広がっていくことによって、そのブロンズが…\nパキッ…パキパキパキッ…と剥がれていきます。\n\nバラバラバラと崩れていきます。\n\n\n中から、ピュアなあなたのクリスタルの体が姿を現します。\nまだ小さなクリスタルのエッセンスのようなものです。\n\nブロンズはバラバラと崩れて、球体になって喜びで転がっていきます。\n\n\n上昇気流はまだ続いています。\n\nそれとは別に、\n上からハイヤーセルフや宇宙の家族たちが、\n\nとてつもない祝福と感謝のシャワーを浴びせてくれます。\n\n虹色のエネルギーの、細かな粒子の光のシャワーです。\n\nそれを余すことなく浴びることを許可してください。",
        inputType: "tap" as const,
    },

    // 12. クリスタル成長 + 身長入力
    {
        id: "crystal-growth",
        text: "ちっちゃかった\nあなたのクリスタルのエッセンスが育っていきます。\n\n自分がしっくりくる高さになるまで、そのシャワーを浴びてください。\n\n動きやすくて、しなやかで、凛としている。\nそのクリスタルで動ける、しなやかな大きさです。\n\nだいたい自分の身長よりちょっと大きいくらいだと、スムーズに動けると思います。\n\n身長はどれくらいですか？太さはどれくらいですか？",
        inputType: "text" as const,
        inputKey: "crystalSize",
        placeholder: "例: 身長2m、太さ50cm",
    },

    // 13. グラウンディング
    {
        id: "grounding",
        text: (answers: Record<string, string>) =>
            `${answers.crystalSize || ""}のクリスタルですね。\n\n今降っている光のシャワーとは別に、\n\n今度は黄金色の、シャラシャラと音がするような、\n\n粒子の細かいシャワーが降ってきます。\n\n\nこのシャワーで、\nあなたのクリスタルの体の足元が\n\n光の磁場に根付くように、グググググッと\nグラウンディングしていきます。\n\n根を張るように、光の磁場と一つになるようなイメージで\nグラウンディングしていくのを感じてみてください。`,
        inputType: "tap" as const,
    },

    // 14. 完了
    {
        id: "complete",
        text: "これでワークは完了です。\n\nでは、改めて「現実」を見たとき、今どんなふうに感じますか？\n\n\n統合が起きると、現実の見え方がまったく変わります。\n\nそもそも何だったのかわからなくなったり、\n真っ白なスクリーンで見えたり、見え方が変わります。\n\nあなたは波動を上げて、惑星を移行したので、\n古い惑星が、あなたの下の方に見えると思います。\n\n\n統合が進むにつれて、\nじぶんの意識の密度が色濃く感じられたり、\n透明感やクリアさ、広がりをさらに感じられる体感も起こります。\n\n\nもし、まだモヤモヤしていたとしても安心してください。\n\n今手放したもので蓋が開いて、\n下から出てきていることがあるので、\n\n再びこのワークを使って、「形」にして手放してください。\n\n出てくるものは、全て手放せます。自分を信頼してください。",
        inputType: "tap" as const,
    },
];

// 完了メッセージをカスタマイズ
const COMPLETION_MESSAGE = "今の体感を大切にしてください✨\nありがとうございました。";

export default function LettingGoPage() {
    return (
        <GuidedChatUI
            systemName="手放しワークシステム"
            accentColor="#9DB5A0"
            accentColorLight="#F0F5F1"
            steps={WORK_STEPS}
            completionMessage={COMPLETION_MESSAGE}
            icon={
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5">
                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" />
                    <polyline points="15,3 21,3 21,9" />
                    <line x1="10" y1="14" x2="21" y2="3" />
                </svg>
            }
        />
    );
}
